<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <comment>Action override created by Lightning App Builder during activation.</comment>
        <content>Project_Role_Page</content>
        <formFactor>Large</formFactor>
        <skipRecordTypeSelect>false</skipRecordTypeSelect>
        <type>Flexipage</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>Project_Role_Compact_Layout</compactLayoutAssignment>
    <compactLayouts>
        <fullName>Project_Role_Compact_Layout</fullName>
        <fields>Name</fields>
        <fields>Project__c</fields>
        <fields>Billable_Hours_This_Month__c</fields>
        <label>Project Role Compact Layout</label>
    </compactLayouts>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <fields>
        <fullName>Accounting_Class__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The accounting class associated with this particular time tracking bucket</inlineHelpText>
        <label>Accounting Class</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Administration</fullName>
                    <default>false</default>
                    <label>Administration</label>
                </value>
                <value>
                    <fullName>Fee for Service</fullName>
                    <default>true</default>
                    <label>Fee for Service</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Active__c</fullName>
        <defaultValue>true</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>If checked, this Project Role is active and available for time-tracking (this role will appear in the timesheet Visualforce page). If unchecked, this Project Role is inactive and not available for time-tracking.</inlineHelpText>
        <label>Active</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Actual_Amount_Override__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>If the work is prepaid, this field sets that prepaid amount for the Project Role instead of summarizing billable work from time logs.</inlineHelpText>
        <label>Actual Amount Override</label>
        <precision>16</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Actual_Amount__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>This field calculates Actual Hours x Hourly Rate.</inlineHelpText>
        <label>Actual Amount</label>
        <precision>8</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Actual_Hours_This_Month__c</fullName>
        <description>Uses DLRS</description>
        <externalId>false</externalId>
        <label>Actual Hours This Month</label>
        <precision>5</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Actual_Hours__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Actual project hours in this particular project role, summarized and based on Actual Hours for related Time Log entries</inlineHelpText>
        <label>Actual Hours</label>
        <summarizedField>Project_Time_Log__c.Actual_Hours__c</summarizedField>
        <summaryFilterItems>
            <field>Project_Time_Log__c.Billable__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryForeignKey>Project_Time_Log__c.Project_Role__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Billable_Hours_This_Month__c</fullName>
        <description>Uses DLRS</description>
        <externalId>false</externalId>
        <label>Billable Hours This Month</label>
        <precision>5</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Budgeted_Amount__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>This field calculates Budgeted Hours x Hourly Rate.</inlineHelpText>
        <label>Budgeted Amount</label>
        <precision>8</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Budgeted_Hours__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Allocation of budgeted hours in this particular project role. Used in scoping and estimating, this determines the fixed estimate and contracted amount for a particular role on a project. Not used for individual staff projections, see Projected Hours</inlineHelpText>
        <label>Budgeted Hours</label>
        <precision>7</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Description__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Description of this project role.  This value will show up on the line-item breakdown of project fees on invoices</inlineHelpText>
        <label>Description</label>
        <length>32768</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>5</visibleLines>
    </fields>
    <fields>
        <fullName>Hourly_Rate__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The hourly rate for this project role</inlineHelpText>
        <label>Hourly Rate</label>
        <precision>8</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Number_of_Time_Logs__c</fullName>
        <externalId>false</externalId>
        <label>Number of Time Logs</label>
        <summaryFilterItems>
            <field>Project_Time_Log__c.Billable__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryForeignKey>Project_Time_Log__c.Project_Role__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Prepaid_Hour_Expiration_Date__c</fullName>
        <description>The date which any prepaid hours associated with this project role will expire</description>
        <externalId>false</externalId>
        <inlineHelpText>The date which any prepaid hours associated with this project role will expire</inlineHelpText>
        <label>Prepaid Hour Expiration Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Project__c</fullName>
        <externalId>false</externalId>
        <label>Project</label>
        <referenceTo>Opportunity</referenceTo>
        <relationshipLabel>Project Roles</relationshipLabel>
        <relationshipName>Project_Roles</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>Projected_Amount__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Calculated field, Projected Hours x Hourly Rate</inlineHelpText>
        <label>Projected Amount</label>
        <precision>8</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Projected_Hours__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Projected project hours in this particular project role, summarized and based on Projected Hours for related Time Log entries. These are logged projected hours by a single person, not an aggregate, fixed budget estimate for any person in a given role.</inlineHelpText>
        <label>Projected Hours</label>
        <summarizedField>Project_Time_Log__c.Projected_Hours__c</summarizedField>
        <summaryForeignKey>Project_Time_Log__c.Project_Role__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Remaining_Amount__c</fullName>
        <externalId>false</externalId>
        <formula>IF(OR(Budgeted_Amount__c=NULL,Budgeted_Amount__c=0),0,( Budgeted_Amount__c - Actual_Amount__c ))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Remaining Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Remaining_Hours__c</fullName>
        <externalId>false</externalId>
        <formula>IF(OR(Budgeted_Hours__c=NULL,Budgeted_Hours__c=0),0,(Budgeted_Hours__c -  Actual_Hours__c))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Remaining Hours</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Role__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Role associated with this time tracking bucket.  Different roles will have different billable rates, which is also based on the type of client (nonprofit, foundation, etc.)</inlineHelpText>
        <label>Role</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Consultant</fullName>
                    <default>false</default>
                    <label>Consultant</label>
                </value>
                <value>
                    <fullName>Project Manager</fullName>
                    <default>false</default>
                    <label>Project Manager</label>
                </value>
                <value>
                    <fullName>Account Manager</fullName>
                    <default>false</default>
                    <label>Account Manager</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Value_of_Work__c</fullName>
        <description>Uses DLRS</description>
        <externalId>false</externalId>
        <inlineHelpText>Sum of time log value of work (formula takes the overall prepaid amount and divides by the billed hours to determine value of work, or otherwise simply displays standard log amount)</inlineHelpText>
        <label>Value of Work</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <label>Project Role</label>
    <nameField>
        <label>Project Role Name</label>
        <trackHistory>false</trackHistory>
        <type>Text</type>
    </nameField>
    <pluralLabel>Project Roles</pluralLabel>
    <searchLayouts>
        <lookupDialogsAdditionalFields>Project__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>Active__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>Remaining_Hours__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>Actual_Hours__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>Budgeted_Hours__c</lookupDialogsAdditionalFields>
    </searchLayouts>
    <sharingModel>ControlledByParent</sharingModel>
    <validationRules>
        <fullName>Prepaid_time_exceeded</fullName>
        <active>true</active>
        <description>Actual prepaid time may not exceed budgeted hours</description>
        <errorConditionFormula>AND(CONTAINS( Name , &quot;repaid&quot;), (  Actual_Hours__c &gt;  Budgeted_Hours__c  ))</errorConditionFormula>
        <errorMessage>Prepaid actual hours may not exceed budgeted hours.</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>New_Advanced_Role</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <encodingKey>UTF-8</encodingKey>
        <linkType>url</linkType>
        <masterLabel>New Data Solutions Advanced Role</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>/a0L/e?
00N50000002DjSw=140&amp;
00N50000002DjSu=10&amp;
00N50000002DjSr=1400&amp;
00N5000000A6pWH={!TODAY()+365}&amp;
Name=Prepaid+Advanced+Support&amp;
CF00N50000002DjRm={!Opportunity.Name}&amp;
00N50000002DjSz=Consultant&amp;

retURL=%2F{!Project_Role__c.Id}</url>
    </webLinks>
    <webLinks>
        <fullName>New_Maintenance_Role</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <encodingKey>UTF-8</encodingKey>
        <linkType>url</linkType>
        <masterLabel>New Data Solutions Maintenance Role</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>/a0L/e?
00N50000002DjSw=100&amp;
00N50000002DjSu=48&amp;
CF01I50000000QelR=Maintenance+Monthly+Subscription&amp;
Name=Maintenance+Monthly+Subscription&amp;
CF00N50000002DjRm={!Opportunity.Name}&amp;
00N50000002DjSz=Consultant&amp;

retURL=%2F{!Project_Role__c.Id}</url>
    </webLinks>
</CustomObject>
